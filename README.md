# AI模拟面试系统

一个基于React的AI驱动模拟面试系统，支持实时语音转文字、智能问答和视频录制功能。

## 功能特性

- **智能问答**: 根据面试方向提供专业问题，模拟真实面试场景
- **语音识别**: 使用科大讯飞RTASR服务进行实时语音转文字
- **实时反馈**: 提供即时的回答分析和改进建议
- **视频录制**: 录制面试过程，便于后续回顾和分析
- **用户管理**: 支持用户注册、登录和会话管理

## 语音转文字功能说明

### 服务配置
系统使用科大讯飞RTASR服务进行语音转文字，需要以下配置：

1. **APPID**: 科大讯飞应用ID
2. **SECRET_KEY**: 科大讯飞密钥
3. **网络连接**: 确保可以访问科大讯飞服务器

### 配置位置
语音服务配置位于 `src/services/rtasrService.js` 文件中：

```javascript
this.APPID = "42564b2f";
this.SECRET_KEY = "fe7d9141b97b6c9095a77c17b4887634";
this.HOST = "rtasr.xfyun.cn/v1/ws";
```

### 使用方法

1. **登录系统**: 使用注册的账号登录
2. **测试语音功能**: 在首页点击"测试语音转写"按钮
3. **开始面试**: 选择面试方向后开始面试，语音转文字功能会自动工作

### 故障排除

如果语音转文字功能不工作，请检查：

1. **API密钥**: 确保APPID和SECRET_KEY有效
2. **网络连接**: 确保可以访问科大讯飞服务器
3. **麦克风权限**: 允许浏览器访问麦克风
4. **浏览器支持**: 使用现代浏览器（Chrome、Edge、Firefox等）

### 常见错误

- **"RTASR服务连接失败"**: 检查API密钥和网络连接
- **"无法访问麦克风"**: 请允许浏览器访问麦克风权限
- **"WebSocket连接失败"**: 检查网络连接和防火墙设置

## 技术栈

- **前端**: React 18, Tailwind CSS
- **语音识别**: 科大讯飞RTASR服务
- **路由**: React Router DOM
- **加密**: CryptoJS
- **HTTP客户端**: Axios

## 安装和运行

### 前置要求

- Node.js 16+
- npm 或 yarn
- 有效的科大讯飞RTASR API密钥

### 安装依赖

```bash
npm install
```

### 配置API密钥

编辑 `src/services/rtasrService.js` 文件，更新您的API配置：

```javascript
this.APPID = "您的APPID";
this.SECRET_KEY = "您的SECRET_KEY";
```

### 启动开发服务器

```bash
npm start
```

应用将在 http://localhost:3000 启动

### 构建生产版本

```bash
npm run build
```

## 项目结构

```
src/
├── components/          # React组件
│   ├── RTASRTranscription.js    # 语音转写组件
│   ├── DialogueInterview.js     # 面试对话组件
│   ├── VideoPreview.js          # 视频预览组件
│   └── ...
├── services/           # 服务层
│   ├── rtasrService.js          # 科大讯飞RTASR服务
│   └── ...
├── pages/             # 页面组件
│   ├── Home.js        # 首页
│   ├── Interview.js   # 面试页面
│   └── Summary.js     # 总结页面
└── ...
```

## 配置说明

### API配置

系统支持配置后端API地址：

1. 在首页点击"API配置"按钮
2. 输入后端服务器地址
3. 点击保存

### 语音服务配置

语音转文字功能使用科大讯飞RTASR服务：

1. 在科大讯飞开放平台注册账号
2. 创建应用并获取APPID和SECRET_KEY
3. 更新 `src/services/rtasrService.js` 中的配置
4. 确保网络可以访问科大讯飞服务器

## 故障排除

### 语音转文字不工作

1. **检查API配置**: 确保APPID和SECRET_KEY正确
2. **检查网络连接**: 确保可以访问科大讯飞服务器
3. **检查麦克风权限**: 允许浏览器访问麦克风
4. **查看控制台错误**: 打开浏览器开发者工具查看错误信息

### 获取科大讯飞API密钥

1. 访问 [科大讯飞开放平台](https://www.xfyun.cn/)
2. 注册账号并登录
3. 创建新应用
4. 在应用详情中获取APPID和SECRET_KEY

## 开发说明

### 调试语音功能

1. 打开浏览器开发者工具
2. 查看控制台日志，了解连接状态
3. 使用"运行连接诊断"功能获取详细信息

### 自定义配置

可以在 `src/services/rtasrService.js` 中修改以下配置：

- `silenceTimeout`: 静音检测超时时间（毫秒）
- `silenceThreshold`: 静音检测阈值
- `minSpeechLength`: 最小语音长度（毫秒）

## 核心技术栈
### 前端框架 & 架构

- **React 18.3.1** - 现代化的用户界面框架

- **React Router DOM 6.27.0** - 单页应用路由管理

- **Create React App** - 基于React Scripts 5.0.1的现代化构建工具链
### UI/UX 技术

- **Tailwind CSS 3.4.0** - 原子化CSS框架，快速构建现代化界面

- **PostCSS + Autoprefixer** - CSS后处理和浏览器兼容性

### 网络通信 & API

- **Axios 1.7.7** - 企业级HTTP客户端

- **RESTful API** - 标准化的后端接口对接

- **Token认证** - 基于JWT的安全认证机制

### 实时音视频技术

- **WebSocket** - 实时双向通信

- **MediaRecorder API** - 原生视频录制功能

- **科大讯飞RTASR** - 专业级实时语音识别服务

- **Web Audio API** - 音频流处理和分析

### 安全 & 加密

- **Crypto-js 4.2.0** - 客户端数据加密

- **MD5 + HMAC-SHA1** - 安全签名算法

### 性能 & 监控

- **Web Vitals 2.1.4** - 网页性能指标监控

- **React.StrictMode** - 开发环境性能优化

### 文件处理

- **FormData API** - 多媒体文件上传

- **Blob处理** - 视频文件生成和处理

### 技术亮点

- **智能语音识别** - 集成科大讯飞实时语音转文字，支持实时反馈

- **视频录制功能** - 基于原生WebRTC技术，支持高质量视频录制

- **响应式设计** - 使用Tailwind CSS构建现代化、响应式界面

- **实时通信** - WebSocket确保低延迟的实时数据传输

- **安全认证** - 完整的用户认证和权限管理系统

- **模块化架构** - 清晰的组件化和服务层分离

### 功能模块

- **用户认证系统** - 登录/注册/权限管理

- **面试方向选择** - 多种面试类型支持

- **实时面试模拟** - 语音识别+视频录制

- **智能问答系统** - AI驱动的面试问题生成

- **面试结果分析** - 综合评估和建议反馈

- **管理员控制台** - 系统配置和管理功能

## 产品优点

### 核心竞争优势

1.双重语音识别保障

科大讯飞RTASR + Web Speech API 双引擎

故障自动切换，确保服务可用性达到99%+

专业级音频处理，识别准确率高

2.实时交互体验

毫秒级语音转文字，无明显延迟

智能静音检测，自动开始/停止录音

实时结果显示，用户体验流畅

3.技术架构先进

React 18 现代化前端框架

模块化设计，代码可维护性强

响应式界面，适配多种设备

可靠性与安全性

4.企业级稳定性

完善的错误处理和重连机制

连接状态监控，实时健康检查

资源自动清理，防止内存泄漏

5.数据安全保障

Token认证机制，防止未授权访问

MD5+HMAC-SHA1加密，保护API通信

本地数据管理，用户隐私可控

6.跨平台兼容

主流浏览器支持（Chrome、Edge、Safari）

移动端适配，支持手机和平板

渐进式降级，老设备也能基本使用

7.智能化功能

自动面试流程，无需人工干预

文件上传支持，简历和职位描述智能分析

个性化面试问题，针对性强

8.操作简便性

一键开始面试，操作门槛低

可视化状态反馈，用户了解系统状态

多路由页面，功能模块清晰
